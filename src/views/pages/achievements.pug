extends ../layouts/main

include ../partials/achievement-card

block content
  section.page-header
    .container
      h1 Achievements
      p A collection of my professional achievements and milestones

  section.achievements-section
    .container
      if achievements && achievements.length > 0
        .achievements-grid
          each achievement in achievements
            +achievement-card(achievement)

        .pagination-container
          if pagination && pagination.totalPages > 1
            .pagination
              if pagination.page > 1
                a.pagination-link(href=`/achievements?page=${pagination.page - 1}`) Previous

              - var startPage = Math.max(1, pagination.page - 2)
              - var endPage = Math.min(pagination.totalPages, pagination.page + 2)

              each pageNum in Array.from({length: endPage - startPage + 1}, (_, i) => startPage + i)
                if pageNum === pagination.page
                  span.pagination-link.active= pageNum
                else
                  a.pagination-link(href=`/achievements?page=${pageNum}`)= pageNum

              if pagination.page < pagination.totalPages
                a.pagination-link(href=`/achievements?page=${pagination.page + 1}`) Next

        .results-info
          p Showing #{achievements.length} of #{pagination.total} achievements
      else
        p.empty-state No achievements found.
